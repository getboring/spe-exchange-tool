import{b as n,d as i,l as d,s as f}from"./index-CPFkeXTL.js";const l={ebayStoreType:"basic",promotedPercent:0,targetRoi:30,defaultWeight:"8oz",defaultSellPlatform:"eBay"},c=n()(i(d((t,s)=>({...l,syncing:!1,lastSynced:null,setEbayStoreType:e=>t({ebayStoreType:e}),setPromotedPercent:e=>t({promotedPercent:Math.max(0,Math.min(20,e))}),setTargetRoi:e=>t({targetRoi:Math.max(0,e)}),setDefaultWeight:e=>t({defaultWeight:e}),setDefaultSellPlatform:e=>t({defaultSellPlatform:e}),resetToDefaults:()=>t(l),loadFromProfile:e=>{t({ebayStoreType:e.ebay_store_type,promotedPercent:e.promoted_percent,targetRoi:e.target_roi,defaultWeight:e.default_weight,defaultSellPlatform:e.default_sell_platform,lastSynced:new Date().toISOString()})},syncToProfile:async e=>{const a=s();t({syncing:!0});try{const o={ebay_store_type:a.ebayStoreType,promoted_percent:a.promotedPercent,target_roi:a.targetRoi,default_weight:a.defaultWeight,default_sell_platform:a.defaultSellPlatform},{error:r}=await f.from("profiles").update(o).eq("id",e);if(r)throw r;t({lastSynced:new Date().toISOString()})}catch(o){throw o}finally{t({syncing:!1})}}}),{name:"spe-settings"}),{name:"SettingsStore"}));export{c as u};
