import{c as Y,p as k,r as m,g as E,j as e,X as D,f as w,t as S,s as M,h as G,u as K}from"./index-CPFkeXTL.js";import{S as X,P as J,C as Q,a as Z,W as ee}from"./constants-Cyhwx-4M.js";import{u as z}from"./settings-store-V5ljlfDl.js";import{T as se}from"./trending-up-Bb59yena.js";import{D as U}from"./dollar-sign-c5L53ltU.js";import{C as te}from"./confirm-modal-CNsLWem5.js";import{L as ae}from"./loader-circle-Cke15f2O.js";import{A as R}from"./arrow-left-CJayjRUm.js";import{P as re}from"./pencil-xFFRPZLi.js";import{T as le}from"./triangle-alert-Bfna1AUJ.js";import{S as ne}from"./save-CvMSaUTB.js";import{T as ie}from"./tag-Cx2YNOCy.js";const oe=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],ce=Y("award",oe),$={lastUpdated:"2025-02-14",ebay:{none:{games:.136,consoles:.136,cap:7500},starter:{games:.136,consoles:.136,cap:7500},basic:{games:.127,consoles:.0735,cap:2500},premium:{games:.127,consoles:.0735,cap:2500},anchor:{games:.127,consoles:.0735,cap:2500},aboveCapRate:.0235,perOrderLow:.3,perOrderHigh:.4,perOrderThreshold:10,internationalFee:.0165,storeCosts:{none:0,starter:7.95,basic:27.95,premium:74.95,anchor:349.95}},mercari:{sellingFee:.1,instantPay:3},facebook:{shippedFee:.1,minimumFee:.8,localFee:0},shipping:{"4oz":4.7,"8oz":5.25,"12oz":6.4,"16oz":8,"24oz":9.5,"32oz":11,"48oz":13.5}};function q(l,i=0,s="game",p=!1,h="basic",c=0,d=0,r=$){const x=k(l),v=k(i),f=x+v,b=r.ebay[h]||r.ebay.basic,F=s==="console"?b.consoles:b.games,g=b.cap,_=f<=g?f*F:g*F+(f-g)*r.ebay.aboveCapRate,N=f<=r.ebay.perOrderThreshold?r.ebay.perOrderLow:r.ebay.perOrderHigh,a=p?f*r.ebay.internationalFee:0,u=f*(c/100),j=d>0?x*d/100*.0225:0;return{fvf:_,perOrder:N,intlFee:a,promoted:u,taxFee:j,total:_+N+a+u+j}}function H(l,i=$){const p=k(l)*i.mercari.sellingFee;return{sellingFee:p,total:p}}function W(l,i=!1,s=$){if(i)return{fee:0,total:0};const p=k(l),h=Math.max(p*s.facebook.shippedFee,s.facebook.minimumFee);return{fee:h,total:h}}function de(l="8oz",i=$){return i.shipping[l]||i.shipping["8oz"]}function me(l,i,s,p="game",h={}){const c=k(i),d=k(s),{storeType:r="basic",promotedPercent:x=0}=h;switch(l){case"eBay":return q(c,d,p,!1,r,x).total;case"Mercari":return H(c).total;case"FB Marketplace":return W(c,!1).total;case"Local":return 0;default:return 0}}function pe(l,i,s="game",p="8oz",h={}){const c=k(l),d=k(i),r=de(p),{storeType:x="basic",promotedPercent:v=0}=h,f=(n,C)=>{if(C<=0)return n>0?9999:0;const A=n/C*100;return Math.min(A,9999)},b=q(c,r,s,!1,x,v),F=c-d-b.total,g=f(F,d),_=H(c),N=c-d-_.total-r,a=f(N,d),u=W(c),j=c-d-r-u.total,P=f(j,d),T=c-d,L=f(T,d),t=Object.entries({ebay:g,mercari:a,fbShipped:P,fbLocal:L}).reduce((n,C)=>C[1]>n[1]?C:n,["none",-1/0]),y={ebay:"eBay",mercari:"Mercari",fbShipped:"FB Ship",fbLocal:"FB Local"};return{ebay:{fees:b.total,shipping:r,profit:F,roi:g},mercari:{fees:_.total,shipping:r,profit:N,roi:a},fbShipped:{fees:u.total,shipping:r,profit:j,roi:P},fbLocal:{fees:0,shipping:0,profit:T,roi:L},best:y[t[0]]||"N/A"}}function ue({item:l}){const{ebayStoreType:i,promotedPercent:s}=z(),p=m.useMemo(()=>{const c=E(l.estimated_value||0),d=E(l.purchase_cost||0);return pe(c,d,l.type,l.weight,{storeType:i,promotedPercent:s})},[l,i,s]),h=[{key:"ebay",name:"eBay",data:p.ebay},{key:"mercari",name:"Mercari",data:p.mercari},{key:"fbShipped",name:"FB Shipped",data:p.fbShipped},{key:"fbLocal",name:"FB Local",data:p.fbLocal}];return e.jsxs("div",{className:"rounded-lg border p-4",children:[e.jsxs("div",{className:"mb-3 flex items-center gap-2",children:[e.jsx(se,{className:"h-5 w-5"}),e.jsx("h3",{className:"font-semibold",children:"Profit by Platform"})]}),e.jsx("div",{className:"space-y-2",children:h.map(({key:c,name:d,data:r})=>{const x=p.best===d||c==="fbLocal"&&p.best==="FB Local";return e.jsxs("div",{className:`flex items-center justify-between rounded p-2 ${x?"bg-green-50 dark:bg-green-950":"bg-muted/50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:d}),x&&e.jsx(ce,{className:"h-4 w-4 text-green-600"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:["Fees: $",r.fees.toFixed(2)]}),e.jsxs("span",{className:`font-medium ${r.profit>=0?"text-green-600":"text-red-600"}`,children:["$",r.profit.toFixed(2)]}),e.jsxs("span",{className:"text-muted-foreground",children:[r.roi.toFixed(0),"%"]})]})]},c)})}),e.jsxs("p",{className:"mt-3 text-xs text-muted-foreground",children:["Based on ",l.weight," shipping weight, ",i," eBay store",s>0&&`, ${s}% promoted`]})]})}function xe({item:l,isOpen:i,onClose:s,onSaved:p}){const{ebayStoreType:h,promotedPercent:c}=z(),d=m.useRef(null),[r,x]=m.useState(""),[v,f]=m.useState("eBay"),[b,F]=m.useState(""),[g,_]=m.useState(""),[N,a]=m.useState(""),[u,j]=m.useState(!0),[P,T]=m.useState(new Date().toISOString().split("T")[0]),[L,I]=m.useState(!1),[t,y]=m.useState(null);m.useEffect(()=>{i&&l.estimated_value&&(x(E(l.estimated_value).toFixed(2)),setTimeout(()=>d.current?.focus(),0))},[i,l.estimated_value]),m.useEffect(()=>{if(!i)return;const o=B=>{B.key==="Escape"&&s()};return document.addEventListener("keydown",o),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",o),document.body.style.overflow=""}},[i,s]);const n=u?me(v,parseFloat(r)||0,parseFloat(b)||0,l.type,{storeType:h,promotedPercent:c}):parseFloat(N)||0,C=(parseFloat(r)||0)-E(l.purchase_cost||0)-n-(parseFloat(g)||0),A=async o=>{o.preventDefault(),y(null),I(!0);try{const B={status:"sold",sale_price:S(parseFloat(r)||0),sale_platform:v,sale_date:P,sale_fees:S(n),shipping_cost:S(parseFloat(g)||0),actual_profit:S(C)},{error:O}=await M.from("items").update(B).eq("id",l.id);if(O)throw O;p(),s()}catch(B){y(B instanceof Error?B.message:"Failed to record sale")}finally{I(!1)}},V=m.useCallback(o=>{o.target===o.currentTarget&&s()},[s]);return i?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:V,role:"presentation",children:e.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":"record-sale-title",className:"w-full max-w-md rounded-lg bg-background p-6 shadow-xl",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h2",{id:"record-sale-title",className:"text-lg font-semibold",children:"Record Sale"}),e.jsx("button",{onClick:s,"aria-label":"Close",className:"rounded p-1 hover:bg-accent",children:e.jsx(D,{className:"h-5 w-5"})})]}),e.jsxs("p",{className:"mb-4 text-sm text-muted-foreground",children:[l.name," (",l.platform,")"]}),e.jsxs("form",{onSubmit:A,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"sale-price",className:"text-sm text-muted-foreground",children:"Sale Price"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"$"}),e.jsx("input",{ref:d,id:"sale-price",type:"number",step:"0.01",value:r,onChange:o=>x(o.target.value),required:!0,className:"w-full rounded-lg border bg-background py-2 pl-7 pr-3",placeholder:"0.00"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"sale-platform",className:"text-sm text-muted-foreground",children:"Platform"}),e.jsx("select",{id:"sale-platform",value:v,onChange:o=>f(o.target.value),className:"mt-1 w-full rounded-lg border bg-background px-3 py-2",children:X.map(o=>e.jsx("option",{value:o,children:o},o))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"shipping-charged",className:"text-sm text-muted-foreground",children:"Shipping Charged"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"$"}),e.jsx("input",{id:"shipping-charged",type:"number",step:"0.01",value:b,onChange:o=>F(o.target.value),className:"w-full rounded-lg border bg-background py-2 pl-7 pr-3",placeholder:"0.00"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"shipping-cost",className:"text-sm text-muted-foreground",children:"Your Shipping Cost"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"$"}),e.jsx("input",{id:"shipping-cost",type:"number",step:"0.01",value:g,onChange:o=>_(o.target.value),className:"w-full rounded-lg border bg-background py-2 pl-7 pr-3",placeholder:"0.00"})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Fees"}),e.jsxs("label",{htmlFor:"auto-fees",className:"flex items-center gap-2 text-sm",children:[e.jsx("input",{id:"auto-fees",type:"checkbox",checked:u,onChange:o=>j(o.target.checked),className:"h-4 w-4"}),"Auto-calculate"]})]}),u?e.jsxs("div",{className:"mt-1 rounded-lg bg-muted px-3 py-2 text-sm",children:["$",n.toFixed(2)," (estimated ",v," fees)"]}):e.jsxs("div",{className:"relative mt-1",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"$"}),e.jsx("input",{id:"manual-fees",type:"number",step:"0.01",value:N,onChange:o=>a(o.target.value),className:"w-full rounded-lg border bg-background py-2 pl-7 pr-3",placeholder:"0.00","aria-label":"Manual fees"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"sale-date",className:"text-sm text-muted-foreground",children:"Sale Date"}),e.jsx("input",{id:"sale-date",type:"date",value:P,onChange:o=>T(o.target.value),className:"mt-1 w-full rounded-lg border bg-background px-3 py-2"})]}),e.jsxs("div",{className:"rounded-lg bg-muted p-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Cost"}),e.jsx("span",{children:w(l.purchase_cost)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Sale Price"}),e.jsxs("span",{children:["$",parseFloat(r||"0").toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Fees + Shipping"}),e.jsxs("span",{children:["-$",(n+(parseFloat(g)||0)).toFixed(2)]})]}),e.jsx("hr",{className:"my-2"}),e.jsxs("div",{className:"flex items-center justify-between font-semibold",children:[e.jsx("span",{children:"Profit"}),e.jsxs("span",{className:C>=0?"text-green-600":"text-red-600",children:["$",C.toFixed(2)]})]})]}),t&&e.jsx("div",{role:"alert",className:"rounded-lg bg-destructive/10 p-3 text-sm text-destructive",children:t}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 rounded-lg border px-4 py-2 font-medium",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:L||!r,className:"flex flex-1 items-center justify-center gap-2 rounded-lg bg-green-600 px-4 py-2 font-medium text-white disabled:opacity-50",children:L?"Saving...":e.jsxs(e.Fragment,{children:[e.jsx(U,{className:"h-4 w-4"}),"Record Sale"]})})]})]})]})}):null}function Ce(){const{id:l}=G(),i=K(),[s,p]=m.useState(null),[h,c]=m.useState(!0),[d,r]=m.useState(null),[x,v]=m.useState(!1),[f,b]=m.useState(!1),[F,g]=m.useState(!1),[_,N]=m.useState(!1),[a,u]=m.useState({name:"",platform:"",condition:"",type:"game",weight:"8oz",loose_price:"",cib_price:"",new_price:""}),j=m.useCallback(async()=>{if(!l)return;c(!0);const{data:t,error:y}=await M.from("items").select("*").eq("id",l).single();if(y){r(y.message),c(!1);return}const n=t;p(n),u({name:n.name,platform:n.platform||"",condition:n.condition||"",type:n.type||"game",weight:n.weight||"8oz",loose_price:n.loose_price?E(n.loose_price).toFixed(2):"",cib_price:n.cib_price?E(n.cib_price).toFixed(2):"",new_price:n.new_price?E(n.new_price).toFixed(2):""}),c(!1)},[l]);m.useEffect(()=>{j()},[j]);const P=async()=>{if(!s)return;b(!0),r(null);let t=0;a.condition==="sealed"&&a.new_price?t=S(parseFloat(a.new_price)):a.condition==="cib"&&a.cib_price?t=S(parseFloat(a.cib_price)):a.loose_price&&(t=S(parseFloat(a.loose_price)));const y={name:a.name,platform:a.platform||null,condition:a.condition||null,type:a.type,weight:a.weight,loose_price:a.loose_price?S(parseFloat(a.loose_price)):null,cib_price:a.cib_price?S(parseFloat(a.cib_price)):null,new_price:a.new_price?S(parseFloat(a.new_price)):null,estimated_value:t||null},{error:n}=await M.from("items").update(y).eq("id",s.id);if(n){r(n.message),b(!1);return}await j(),v(!1),b(!1)},T=async()=>{if(!s)return;const{error:t}=await M.from("items").delete().eq("id",s.id);if(t){r(t.message),N(!1);return}i("/inventory")},L=async t=>{if(!s)return;const y={status:t},{error:n}=await M.from("items").update(y).eq("id",s.id);if(n){r(n.message);return}await j()};if(h)return e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(ae,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(d||!s)return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{onClick:()=>i("/inventory"),className:"flex items-center gap-2 text-muted-foreground hover:text-foreground",children:[e.jsx(R,{className:"h-4 w-4"}),"Back to Inventory"]}),e.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 p-4 text-center",children:e.jsx("p",{className:"text-destructive",children:d||"Item not found"})})]});const I=(s.estimated_value||0)-(s.purchase_cost||0);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>i("/inventory"),className:"flex items-center gap-2 text-muted-foreground hover:text-foreground",children:[e.jsx(R,{className:"h-4 w-4"}),"Back"]}),e.jsx("div",{className:"flex gap-2",children:!x&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-2 rounded-lg border px-3 py-2 text-sm hover:bg-accent",children:[e.jsx(re,{className:"h-4 w-4"}),"Edit"]}),e.jsxs("button",{onClick:()=>N(!0),className:"flex items-center gap-2 rounded-lg border px-3 py-2 text-sm text-destructive hover:bg-destructive/10",children:[e.jsx(le,{className:"h-4 w-4"}),"Delete"]})]})})]}),e.jsx("div",{className:"rounded-lg border p-4",children:x?e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",value:a.name,onChange:t=>u({...a,name:t.target.value}),className:"w-full rounded-lg border bg-background px-3 py-2 text-lg font-semibold",placeholder:"Item name"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Platform"}),e.jsxs("select",{value:a.platform,onChange:t=>u({...a,platform:t.target.value}),className:"mt-1 w-full rounded-lg border bg-background px-3 py-2",children:[e.jsx("option",{value:"",children:"Select..."}),J.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Condition"}),e.jsxs("select",{value:a.condition,onChange:t=>u({...a,condition:t.target.value}),className:"mt-1 w-full rounded-lg border bg-background px-3 py-2",children:[e.jsx("option",{value:"",children:"Select..."}),Q.map(t=>e.jsx("option",{value:t,children:t.toUpperCase()},t))]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Type"}),e.jsx("select",{value:a.type,onChange:t=>u({...a,type:t.target.value}),className:"mt-1 w-full rounded-lg border bg-background px-3 py-2",children:Z.map(t=>e.jsx("option",{value:t,children:t.charAt(0).toUpperCase()+t.slice(1)},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Weight"}),e.jsx("select",{value:a.weight,onChange:t=>u({...a,weight:t.target.value}),className:"mt-1 w-full rounded-lg border bg-background px-3 py-2",children:ee.map(t=>e.jsx("option",{value:t,children:t},t))})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Loose Price"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"$"}),e.jsx("input",{type:"number",step:"0.01",value:a.loose_price,onChange:t=>u({...a,loose_price:t.target.value}),className:"w-full rounded-lg border bg-background py-2 pl-7 pr-3"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"CIB Price"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"$"}),e.jsx("input",{type:"number",step:"0.01",value:a.cib_price,onChange:t=>u({...a,cib_price:t.target.value}),className:"w-full rounded-lg border bg-background py-2 pl-7 pr-3"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Sealed Price"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"$"}),e.jsx("input",{type:"number",step:"0.01",value:a.new_price,onChange:t=>u({...a,new_price:t.target.value}),className:"w-full rounded-lg border bg-background py-2 pl-7 pr-3"})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>v(!1),"aria-label":"Cancel editing",className:"flex flex-1 items-center justify-center gap-2 rounded-lg border px-4 py-2",children:[e.jsx(D,{className:"h-4 w-4"}),"Cancel"]}),e.jsxs("button",{onClick:P,disabled:f,className:"flex flex-1 items-center justify-center gap-2 rounded-lg bg-primary px-4 py-2 text-primary-foreground disabled:opacity-50",children:[e.jsx(ne,{className:"h-4 w-4"}),f?"Saving...":"Save Changes"]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold",children:s.name}),e.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-sm text-muted-foreground",children:[s.platform&&e.jsx("span",{className:"rounded bg-secondary px-2 py-0.5",children:s.platform}),s.condition&&e.jsx("span",{className:"uppercase",children:s.condition}),e.jsx("span",{children:s.type}),e.jsx("span",{children:s.weight})]})]}),e.jsxs("div",{className:"text-right",children:[s.status==="in_stock"&&e.jsx("span",{className:"rounded bg-blue-100 px-2 py-1 text-sm text-blue-700",children:"In Stock"}),s.status==="listed"&&e.jsx("span",{className:"rounded bg-yellow-100 px-2 py-1 text-sm text-yellow-700",children:"Listed"}),s.status==="sold"&&e.jsx("span",{className:"rounded bg-green-100 px-2 py-1 text-sm text-green-700",children:"Sold"})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-3 text-center",children:[e.jsxs("div",{className:"rounded-lg bg-muted p-3",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Loose"}),e.jsx("div",{className:"font-semibold",children:w(s.loose_price)})]}),e.jsxs("div",{className:"rounded-lg bg-muted p-3",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"CIB"}),e.jsx("div",{className:"font-semibold",children:w(s.cib_price)})]}),e.jsxs("div",{className:"rounded-lg bg-muted p-3",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Sealed"}),e.jsx("div",{className:"font-semibold",children:w(s.new_price)})]})]}),e.jsxs("div",{className:"mt-4 rounded-lg bg-secondary/50 p-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Purchase Cost"}),e.jsx("span",{className:"font-medium",children:w(s.purchase_cost)})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Estimated Value"}),e.jsx("span",{className:"font-medium",children:w(s.estimated_value)})]}),e.jsx("hr",{className:"my-2"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Est. Profit"}),e.jsx("span",{className:`font-semibold ${I>=0?"text-green-600":"text-red-600"}`,children:w(I)})]})]})]})}),!x&&s.status!=="sold"&&e.jsx(ue,{item:s}),s.status==="sold"&&e.jsxs("div",{className:"rounded-lg border p-4",children:[e.jsx("h3",{className:"mb-3 font-semibold",children:"Sale Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Sale Price"}),e.jsx("span",{children:w(s.sale_price)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Platform"}),e.jsx("span",{children:s.sale_platform})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Date"}),e.jsx("span",{children:s.sale_date})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Fees"}),e.jsx("span",{children:w(s.sale_fees)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Shipping"}),e.jsx("span",{children:w(s.shipping_cost)})]}),e.jsx("hr",{}),e.jsxs("div",{className:"flex justify-between font-semibold",children:[e.jsx("span",{children:"Actual Profit"}),e.jsx("span",{className:s.actual_profit&&s.actual_profit>=0?"text-green-600":"text-red-600",children:w(s.actual_profit)})]})]})]}),!x&&s.status!=="sold"&&e.jsxs("div",{className:"flex gap-3",children:[s.status==="in_stock"&&e.jsxs("button",{onClick:()=>L("listed"),className:"flex flex-1 items-center justify-center gap-2 rounded-lg border px-4 py-3 font-medium hover:bg-accent",children:[e.jsx(ie,{className:"h-5 w-5"}),"Mark as Listed"]}),e.jsxs("button",{onClick:()=>g(!0),className:"flex flex-1 items-center justify-center gap-2 rounded-lg bg-green-600 px-4 py-3 font-medium text-white hover:bg-green-700",children:[e.jsx(U,{className:"h-5 w-5"}),"Record Sale"]})]}),e.jsx(xe,{item:s,isOpen:F,onClose:()=>g(!1),onSaved:j}),e.jsx(te,{isOpen:_,title:"Delete Item",message:`Are you sure you want to delete "${s.name}"? This cannot be undone.`,confirmLabel:"Delete",onConfirm:T,onCancel:()=>N(!1)})]})}export{Ce as ItemDetailPage};
